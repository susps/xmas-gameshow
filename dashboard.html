<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" type="text/css" href="/output.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
  <link rel="stylesheet" href="/styles.css">

  <title>Lobby</title>
</head>

<body>
  <!-- Snow effect container -->
  <div class="lobby-container">
      
      <div class="user-section">
          <img src="" id="avatar" class="avatar-image"/>
          <div id="name" class="username"></div>
      </div>

      <div id="join-section" class="lobby-action-section">
          <input 
              type="text" 
              id="lobby-code-input" 
              placeholder="Enter Lobby Code (e.g., ABCD)"
              maxlength="4"
              autocomplete="off"
          />
          <button id="enter-lobby-button" class="enter-button">
            <i class="fa-solid fa-right-to-bracket"></i>
            <span>Enter Lobby</span>
          </button>
      </div>

      <div id="lobby-section" style="display: none;" class="lobby-action-section">
          <h2 class="lobby-header">Lobby Code: <span id="display-lobby-code"></span></h2>
          
          <div id="player-list" class="player-list">
              <!-- Player cards will be rendered here by auth.js -->
          </div>

          <!-- Use dataset.ready to track state in auth.js -->
          <button id="ready-button" class="ready-button enter-button" data-ready="false" disabled>
            <i class="fa-solid fa-play"></i>
            <span>READY</span>
          </button>
      </div>
  </div>

  <!-- Fix 1: Include the Socket.IO client library script -->
  <script src="/socket.io/socket.io.js"></script> 
  
  <script src="/snow.js" defer></script>
  <script src="/auth.js" defer></script>
</body>
</html>
